{"version":3,"sources":["webpack:///./src/app/sign-in/sign-in.module.ts","webpack:///./src/app/sign-in/sign-in.page.html","webpack:///./src/app/sign-in/sign-in.page.scss","webpack:///./src/app/sign-in/sign-in.page.ts"],"names":[],"mappings":"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","file":"sign-in-sign-in-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule,ReactiveFormsModule  } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignInPage } from './sign-in.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignInPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SignInPage]\n})\nexport class SignInPageModule {}\n","module.exports = \"<ion-header>\\n    <div text-uppercase text-center class=\\\"title\\\"></div>\\n</ion-header>\\n<ion-content hide-tabs>\\n  <form [formGroup]=\\\"logingrp\\\" (ngSubmit)=\\\"btnLogin()\\\">\\n    <ion-grid><br>\\n      <br><br>\\n      <div padding>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\" class=\\\"lab-font\\\">\\n           User Id\\n          </ion-label>\\n          <ion-input #email type=\\\"email\\\" formControlName=\\\"userEmail\\\" class=\\\"lab-font\\\" (ionInput) = \\\"checkEmptyIdOnFocus($event)\\\"  \\n          (ionBlur) = \\\"checkEmptyIdOnBlur($event)\\\" required></ion-input>\\n        </ion-item>\\n        <div class=\\\"error-message\\\" *ngIf = \\\"errUserName\\\">User Id is required. Please enter a valid User Id</div><br>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\" class=\\\"lab-font\\\">\\n            Password\\n          </ion-label>\\n          <ion-input #password type=\\\"Password\\\" formControlName=\\\"userPwd\\\" class=\\\"lab-font\\\" (ionInput) = \\\"checkEmptyPassOnFocus($event)\\\"  \\n          (ionBlur) = \\\"checkEmptyPassOnBlur($event)\\\"></ion-input>\\n        </ion-item>\\n        <!-- <div class=\\\"validation-errors\\\">\\n           <div  *ngIf=\\\"logingrp.get('userPwd').hasError('pattern')\\\">\\n            Password is required\\n          </div> \\n        </div>-->\\n        <div class=\\\"error-message\\\" *ngIf = \\\"errPassword\\\">Password is required. Please enter a valid password</div>\\n        <!-- <ion-item *ngIf=\\\"loginpass.touched\\\"></ion-item> -->\\n        <br><br>\\n        <ion-row justify-content-center align-items-center>\\n          <ion-col size=\\\"3\\\"></ion-col>\\n          <ion-col size=\\\"6\\\">\\n            <ion-button type=\\\"submit\\\" size=\\\"medium\\\" expand=\\\"block\\\" class=\\\"loggbtn\\\" color=\\\"medium\\\" >Login</ion-button>\\n          </ion-col>\\n          <ion-col size=\\\"3\\\"></ion-col>\\n        </ion-row>\\n      </div>\\n    </ion-grid>\\n  </form>\\n</ion-content>\\n<ion-footer no-border text-center>\\n<!-- <ion-label style=\\\"font-size: 14px;\\\">Version: TEST - 0.0.2 (29-05-19)</ion-label> -->\\n<ion-label style=\\\"font-size: 14px;\\\">Version: UAT - 1.1.2 (09-09-20)</ion-label>\\n<!-- <ion-label style=\\\"font-size: 14px;\\\">Version: PROD - 1.0.5 (22-05-19)</ion-label>-->\\n</ion-footer>\\n\\n\"","module.exports = \".header {\\n  background-image: url('homebg.png') !important;\\n  background-size: 100% 100%;\\n  background-position: center center;\\n  background-repeat: no-repeat;\\n  height: 250px !important; }\\n\\nion-grid {\\n  width: 100%;\\n  height: 100%; }\\n\\nion-row {\\n  height: 100%; }\\n\\nion-col {\\n  background: #fff; }\\n\\n.loggbtn {\\n  width: 100%;\\n  border-radius: 5%;\\n  font-weight: normal;\\n  font-size: 25px; }\\n\\n.lab-font {\\n  font-size: 25px; }\\n\\n.validation-errors {\\n  font-size: 15px;\\n  color: red; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy91c2VyMTgxMTgwL0RvY3VtZW50cy9PcGFsX0tiYy9zcmMvYXBwL3NpZ24taW4vc2lnbi1pbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7RUFDSSw4Q0FBMEQ7RUFDMUQsMEJBQTBCO0VBQzFCLGtDQUFrQztFQUNsQyw0QkFBNEI7RUFDNUIsd0JBQXVCLEVBQUE7O0FBRzNCO0VBQ0MsV0FBVTtFQUNWLFlBWmUsRUFBQTs7QUFlaEI7RUFDQyxZQWhCZSxFQUFBOztBQW1CaEI7RUFDQyxnQkFyQmlCLEVBQUE7O0FBd0JsQjtFQUNDLFdBQVc7RUFDWCxpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLGVBQWUsRUFBQTs7QUFHaEI7RUFDQyxlQUFlLEVBQUE7O0FBR2hCO0VBQ0MsZUFBZTtFQUNmLFVBQVUsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3NpZ24taW4vc2lnbi1pbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIkd2hpdGUtY29sb3I6ICNmZmY7XG4kaGVpZ2h0MTAwOiAxMDAlO1xuXG4uaGVhZGVyIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCIuLi8uLi9hc3NldHMvaG9tZWJnLnBuZ1wiKSFpbXBvcnRhbnQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7IFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBoZWlnaHQ6IDI1MHB4IWltcG9ydGFudDtcbn1cblxuaW9uLWdyaWQge1xuXHR3aWR0aDoxMDAlO1xuXHRoZWlnaHQ6ICRoZWlnaHQxMDA7XG59XG5cbmlvbi1yb3cge1xuXHRoZWlnaHQ6ICRoZWlnaHQxMDA7XG59XG5cbmlvbi1jb2wge1xuXHRiYWNrZ3JvdW5kOiAkd2hpdGUtY29sb3I7XG59XG5cbi5sb2dnYnRue1xuXHR3aWR0aDogMTAwJTtcblx0Ym9yZGVyLXJhZGl1czogNSU7XG5cdGZvbnQtd2VpZ2h0OiBub3JtYWw7XG5cdGZvbnQtc2l6ZTogMjVweDtcbn1cblxuLmxhYi1mb250e1xuXHRmb250LXNpemU6IDI1cHg7XG59XG5cbi52YWxpZGF0aW9uLWVycm9yc3tcblx0Zm9udC1zaXplOiAxNXB4O1xuXHRjb2xvcjogcmVkO1xufVxuIl19 */\"","import { Component, OnInit,ElementRef, ViewChild } from '@angular/core';\nimport { Validators, FormGroup, FormBuilder, FormControl } from '@angular/forms';\nimport { Router } from '@angular/router'; \nimport { ApiService } from '../api.service';\n\n@Component({\n  selector: 'app-sign-in',\n  templateUrl: './sign-in.page.html',\n  styleUrls: ['./sign-in.page.scss'],\n})\nexport class SignInPage implements OnInit {\n  @ViewChild(\"email\") email;\n  @ViewChild(\"password\") password;\n  public logingrp: FormGroup;\n\n  errUserName : boolean;\n  errPassword : boolean;\n  userInfo:any;\n  constructor(\n    private formBuilder: FormBuilder,\n    private routeTo: Router,\n    private opalService:ApiService\n    ) {\n    this.logingrp = this.formBuilder.group({\n      userEmail:[''],\n      userPwd:[''],\n    },{ updateOn : 'blur' });\n    this.opalService.getAllModelList();\n  }\n\n  ngOnInit() {\n    this.errPassword = false;\n    this.errUserName = false;\n  }\n\n  ionViewDidEnter() {\n    localStorage.removeItem(\"loginAccess\");\n    let id = localStorage.getItem(\"userName\");\n    this.logingrp.reset();\n    if(id != undefined && id != null && id != \"\" ){\n      this.logingrp.controls['userEmail'].setValue(id);\n      this.logingrp.controls['userPwd'].reset();\n      setTimeout(()=>{ \n        this.password.setFocus();\n      },700);\n    } else {\n      setTimeout(()=>{\n        this.email.setFocus();\n      },700);\n    }\n  }\n\n\n  //method to call login ajax call service\n\tbtnLogin(){\n    localStorage.removeItem(\"loginAccess\");\n      var loginUrl  = this.opalService.baseUrl + this.opalService.userLogin;\n      if (this.logingrp.value.userEmail == undefined || this.logingrp.value.userEmail == \"\"){\n        this.opalService.presentToast('Username is required','danger');\n        this.errUserName = true;\n        return false;\n      } else {\n        this.errUserName = false;\n      }\n      if (this.logingrp.value.userPwd == undefined || this.logingrp.value.userPwd == \"\"){\n        this.opalService.presentToast('Password is required','danger');\n        this.errPassword = true;\n        return false;\n      } else {\n        this.errPassword = false;\n      }\n      var dataParam = {\n        \"loginId\" : this.logingrp.value.userEmail,\n        \"password\" :this.logingrp.value.userPwd\n      }\n      let userName = this.logingrp.value.userEmail;\n      this.opalService.present();\n      this.opalService.ajaxCallService(loginUrl,\"post\", dataParam).then(result => {\n        if(result == undefined){\n          this.opalService.presentToast('Unable to reach server, Please try again','danger');\n        }\n        else if(result == \"Login Id invalid\"){\n          this.opalService.presentToast('Invalid login Id','danger');  \n        }else if(result == \"Password invalid\"){\n          this.opalService.presentToast('Invalid password','danger');\n        }else{\n          localStorage.setItem(\"Id\", JSON.stringify(result));\n          localStorage.setItem(\"userName\", userName);\n          this.userInfo = result\n          localStorage.setItem(\"loginAccess\", JSON.stringify(this.userInfo.loginAccess));\n          // this.opalService.presentToast('Successfully Logged in','secondary');\n          this.routeTo.navigate([\"/home\"]);\n          this.errPassword = false;\n        }\n        this.opalService.dismiss();\n      }).catch(err => {\n        this.opalService.presentToast('Unable to reach server, Please try again','danger');\n        this.opalService.dismiss();\n      });\n  }\n  \n  //check if model is empty\n  checkEmptyIdOnFocus(evt){\n    if(evt.target.value != undefined && evt.target.value != \"\" ){\n      this.errUserName = false;\n    }\n  }\n\n  //check if model is empty\n  checkEmptyIdOnBlur(evt){\n    if(evt.target.value != undefined && evt.target.value != \"\" ){\n      this.errUserName = false;\n    } else {\n      this.errUserName = true;\n    }\n  }\n\n  //check if model is empty\n  checkEmptyPassOnFocus(evt){\n    if(evt.target.value != undefined && evt.target.value != \"\" ){\n      this.errPassword = false;\n    }\n  }\n\n  //check if model is empty\n  checkEmptyPassOnBlur(evt){\n    if(evt.target.value != undefined && evt.target.value != \"\" ){\n      this.errPassword = false;\n    } else {\n      this.errPassword = true;\n    }\n  }\n}\n"],"sourceRoot":""}